<mat-drawer-container class="h-full">
  <mat-drawer #userFilters mode="side" position="end">
    <app-user-filters (changed)="filtersChanged($event)" />
  </mat-drawer>

  <div class="w-full h-full p-4">
    <section class="h-full grid grid-rows-10 md:grid-rows-12">
      <section class="row-span-1 flex flex-row justify-between items-start gap-4">
        <mat-form-field appearance="fill" class="w-full">
          <mat-label>Search users by name</mat-label>
          <input matInput [formControl]="searchControl" />
  
          @if (searchControl.value) {
            <mat-icon matSuffix (click)="clearSearch()" (keyPress)="clearSearch()" matTooltip="Clear">clear</mat-icon>
          }
        </mat-form-field>
  
        <button mat-icon-button matTooltip="Filters" (click)="userFilters.toggle()"><mat-icon [matBadge]="filtersCounter()" aria-hidden="false">filter_alt</mat-icon></button>
      </section>
  
      <section class="row-span-9 md:row-span-11 border rounded" overlay-scrollbars (osScroll)="onScroll($event)">
        <table mat-table [dataSource]="dataSource">
          <!-- Name Column -->
          <ng-container matColumnDef="name" sticky>
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let element">{{ element.name }}</td>
          </ng-container>
  
          <!-- Email Column -->
          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let element">{{ element.email }}</td>
          </ng-container>
  
          <!-- Phone Column -->
          <ng-container matColumnDef="phone">
            <th mat-header-cell *matHeaderCellDef>Phone</th>
            <td mat-cell *matCellDef="let element">{{ element.phone }}</td>
          </ng-container>
  
          <!-- Address Column -->
          <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef>Address</th>
            <td mat-cell *matCellDef="let element">{{ element.address }}</td>
          </ng-container>
  
          <!-- Role Column -->
          <ng-container matColumnDef="role">
            <th mat-header-cell *matHeaderCellDef>Role</th>
            <td mat-cell *matCellDef="let element">{{ element.role | uppercase }}</td>
          </ng-container>
  
          <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
  
        <ng-container *ngIf="isTableEmpty()">
          <p class="p-4">No users found.</p>
        </ng-container>
      </section>
    </section>
  </div>
</mat-drawer-container>
